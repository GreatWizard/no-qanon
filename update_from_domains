#!/usr/bin/env bash

# use this script to update all the other files after dnsmasq_hosts.txt is updated
# e.g.
# ./update "commit message"

python scripts/domains_to_dnsmasq.py > dnsmasq_hosts.txt
python scripts/domains_to_etc_hosts.py > etc_hosts.txt
python scripts/domains_to_adblock.py > adblock_temp.txt
python scripts/domains_to_ublacklist.py > ublacklist_temp.txt
python scripts/domains_to_netsane.py > netsane.txt
cp adblock_header.txt adblock.txt
./dedupe adblock_temp.txt >> adblock.txt
rm adblock_temp.txt
cp adblock_header.txt ublacklist.txt
./dedupe ublacklist_temp.txt >> ublacklist.txt
rm ublacklist_temp.txt
./generate-ipv6.sh
git commit -a -m "$1" && git push

